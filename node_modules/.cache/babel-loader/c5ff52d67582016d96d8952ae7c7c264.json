{"ast":null,"code":"var _jsxFileName = \"/home/abdelilah/workspace/limehome-react-node/src/components/reservationList.js\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useState } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst Reservation = props => /*#__PURE__*/_jsxDEV(\"tr\", {\n  children: [/*#__PURE__*/_jsxDEV(\"td\", {\n    children: props.reservation.checkin\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 6,\n    columnNumber: 9\n  }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n    children: props.reservation.checkout\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 7,\n    columnNumber: 9\n  }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n    children: props.reservation.guestNumber\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 8,\n    columnNumber: 9\n  }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n    children: props.reservation.firstname\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 9,\n    columnNumber: 9\n  }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n    children: props.reservation.lastname\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 10,\n    columnNumber: 9\n  }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n    children: props.reservation.billingAddress\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 11,\n    columnNumber: 9\n  }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n    children: props.reservation.billingCountry\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 12,\n    columnNumber: 9\n  }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n    children: props.reservation.postalCode\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 13,\n    columnNumber: 9\n  }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n    children: props.reservation.city\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 14,\n    columnNumber: 9\n  }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n    children: props.reservation.email\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 15,\n    columnNumber: 9\n  }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n    children: props.reservation.phoneNumber\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 16,\n    columnNumber: 9\n  }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n    children: [/*#__PURE__*/_jsxDEV(Link, {\n      className: \"btn btn-link\",\n      to: `/edit/${props.reservation._id}`,\n      children: \"Edit\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 18,\n      columnNumber: 13\n    }, this), \" |\", /*#__PURE__*/_jsxDEV(\"button\", {\n      className: \"btn btn-link\",\n      onClick: () => {\n        props.deleteReservation(props.reservation._id);\n      },\n      children: \"Delete\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 19,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 17,\n    columnNumber: 9\n  }, this)]\n}, void 0, true, {\n  fileName: _jsxFileName,\n  lineNumber: 5,\n  columnNumber: 5\n}, this);\n\n_c = Reservation;\nexport default function ReservationList() {\n  _s();\n\n  const [reservations, setReservations] = useState(); // This method fetches the reservations from the database.\n\n  useEffect(() => {\n    async function getReservations() {\n      const response = await fetch(`http://localhost:5000/reservation`);\n      console.log(response);\n\n      if (!response.ok) {\n        const message = `An error occurred: ${response.statusText}`;\n        window.alert(message);\n        return;\n      }\n\n      const reservationsArray = await response.json();\n      setReservations(reservationsArray);\n    }\n\n    getReservations();\n    return;\n  }, []); // This method will delete a reservation\n\n  async function deleteReservation(id) {\n    await fetch(`http://localhost:5000/${id}`, {\n      method: \"DELETE\"\n    });\n    const newReservations = reservations.filter(el => el._id !== id);\n    setReservations(newReservations);\n  } // This method will map out the reservations on the table\n\n\n  function reservationList() {\n    return reservations.map(reservation => {\n      return /*#__PURE__*/_jsxDEV(Reservation, {\n        reservation: reservation,\n        deleteReservation: () => deleteReservation(reservation._id)\n      }, reservation._id, false, {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 17\n      }, this);\n    });\n  } // This following section will display the table with the reservations of individuals.\n\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n      children: \"Reservation List\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"table\", {\n      className: \"table table-striped\",\n      style: {\n        marginTop: 20\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n        children: /*#__PURE__*/_jsxDEV(\"tr\", {\n          children: [/*#__PURE__*/_jsxDEV(\"th\", {\n            children: \"Check-in/out\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 83,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            children: \"Number of Guests\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 84,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            children: \"First Name\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 85,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            children: \"Last Name\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 86,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            children: \"Billing Address\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 87,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            children: \"Billing Country\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 88,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            children: \"Postal Code\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 89,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            children: \"City\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 90,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            children: \"Email\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 91,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            children: \"Phone Number\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 92,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            children: \"Action\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 93,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 82,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n        children: reservationList()\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 96,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 78,\n    columnNumber: 9\n  }, this);\n}\n\n_s(ReservationList, \"dFCKz4P3ClHH9f5ALT7ysPumDok=\");\n\n_c2 = ReservationList;\n\nvar _c, _c2;\n\n$RefreshReg$(_c, \"Reservation\");\n$RefreshReg$(_c2, \"ReservationList\");","map":{"version":3,"names":["React","useEffect","useState","Link","Reservation","props","reservation","checkin","checkout","guestNumber","firstname","lastname","billingAddress","billingCountry","postalCode","city","email","phoneNumber","_id","deleteReservation","ReservationList","reservations","setReservations","getReservations","response","fetch","console","log","ok","message","statusText","window","alert","reservationsArray","json","id","method","newReservations","filter","el","reservationList","map","marginTop"],"sources":["/home/abdelilah/workspace/limehome-react-node/src/components/reservationList.js"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport { Link } from \"react-router-dom\";\n\nconst Reservation = (props) => (\n    <tr>\n        <td>{props.reservation.checkin}</td>\n        <td>{props.reservation.checkout}</td>\n        <td>{props.reservation.guestNumber}</td>\n        <td>{props.reservation.firstname}</td>\n        <td>{props.reservation.lastname}</td>\n        <td>{props.reservation.billingAddress}</td>\n        <td>{props.reservation.billingCountry}</td>\n        <td>{props.reservation.postalCode}</td>\n        <td>{props.reservation.city}</td>\n        <td>{props.reservation.email}</td>\n        <td>{props.reservation.phoneNumber}</td>\n        <td>\n            <Link className=\"btn btn-link\" to={`/edit/${props.reservation._id}`}>Edit</Link> |\n            <button className=\"btn btn-link\"\n                onClick={() => {\n                props.deleteReservation(props.reservation._id);\n                }}\n            >\n                Delete\n            </button>\n        </td>\n    </tr>\n);\n\nexport default function ReservationList() {\n    const [reservations, setReservations] = useState();\n\n    // This method fetches the reservations from the database.\n    useEffect(() => {\n        async function getReservations() {\n            const response = await fetch(`http://localhost:5000/reservation`);\n            console.log(response)\n            if (!response.ok) {\n                const message = `An error occurred: ${response.statusText}`;\n                window.alert(message);\n                return;\n            }\n\n            const reservationsArray = await response.json();\n            setReservations(reservationsArray);\n        }\n\n        getReservations();\n\n        return;\n    }, []);\n\n    // This method will delete a reservation\n    async function deleteReservation(id) {\n        await fetch(`http://localhost:5000/${id}`, {\n            method: \"DELETE\"\n        });\n\n        const newReservations = reservations.filter((el) => el._id !== id);\n        setReservations(newReservations);\n    }\n\n    // This method will map out the reservations on the table\n    function reservationList() {\n        return reservations.map((reservation) => {\n            return (\n                <Reservation\n                    reservation={reservation}\n                    deleteReservation={() => deleteReservation(reservation._id)}\n                    key={reservation._id}\n                />\n            );\n        });\n    }\n\n    // This following section will display the table with the reservations of individuals.\n    return (\n        <div>\n            <h3>Reservation List</h3>\n            <table className=\"table table-striped\" style={{ marginTop: 20 }}>\n                <thead>\n                    <tr>\n                        <th>Check-in/out</th>\n                        <th>Number of Guests</th>\n                        <th>First Name</th>\n                        <th>Last Name</th>\n                        <th>Billing Address</th>\n                        <th>Billing Country</th>\n                        <th>Postal Code</th>\n                        <th>City</th>\n                        <th>Email</th>\n                        <th>Phone Number</th>\n                        <th>Action</th>\n                    </tr>\n                </thead>\n                <tbody>{reservationList()}</tbody>\n            </table>\n        </div>\n    );\n}"],"mappings":"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"},"metadata":{},"sourceType":"module"}